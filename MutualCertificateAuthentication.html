<html>
<head>
	
   
   <title>Ashokkumar Subramanian - Experiences of software development</title>

	<meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <meta name="author" content="Ashokkumar Subramanian "/>
  <meta name="copyright" content="&copy; Copyright 2004 to Present"/>

  <!-- all the mobile settings -->
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1">

  <!-- <meta name="MobileOptimized" content="320"> -->

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="date" content="--" />
	<meta name="robots" content="noodp, noydir" />
  <meta name="description" content="Sharing the experiences of enterprise application development, computer science and engineering" />
   
  <meta name="keywords" content="J2EE, J2EE Frameworks, Enterprise Architecture, Distributed, Cloud Computing, Performance" />
   
   <style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
h1
	{mso-style-link:"Heading 1 Char";
	margin-right:0in;
	margin-left:0in;
	font-size:24.0pt;
	font-family:"Times New Roman","serif";
	font-weight:bold;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-right:0in;
	margin-left:0in;
	font-size:18.0pt;
	font-family:"Times New Roman","serif";
	font-weight:bold;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:15.0pt;
	margin-left:0in;
	border:none;
	padding:0in;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoTitleCxSpFirst, li.MsoTitleCxSpFirst, div.MsoTitleCxSpFirst
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	border:none;
	padding:0in;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoTitleCxSpMiddle, li.MsoTitleCxSpMiddle, div.MsoTitleCxSpMiddle
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	border:none;
	padding:0in;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoTitleCxSpLast, li.MsoTitleCxSpLast, div.MsoTitleCxSpLast
	{mso-style-link:"Title Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:15.0pt;
	margin-left:0in;
	border:none;
	padding:0in;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p
	{margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";}
code
	{font-family:"Courier New";}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:.5in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:.5in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
span.MsoIntenseEmphasis
	{color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Times New Roman","serif";
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Times New Roman","serif";
	font-weight:bold;}
span.apple-converted-space
	{mso-style-name:apple-converted-space;}
span.with-breadcrumbs
	{mso-style-name:with-breadcrumbs;}
span.page-metadata-attachments-text
	{mso-style-name:page-metadata-attachments-text;}
span.page-metadata-attachments-count
	{mso-style-name:page-metadata-attachments-count;}
span.noprint
	{mso-style-name:noprint;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
.MsoChpDefault
	{font-family:"Calibri","sans-serif";}
.MsoPapDefault
	{margin-bottom:10.0pt;
	line-height:115%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
   <link rel="stylesheet" href="/css/foundation.css" />
   <link rel="stylesheet" href="/css/sandbox.css" />
   <link rel="stylesheet" href="/css/keys.css" type="text/css" />
   <link rel="stylesheet" href="/css/syntax.css" />

   <script src="/js/modernizr.js"></script>
   <script src="/js/jquery.js"></script>



</head>
<body>


	<section id="titlebar">

		<div class="row">

			<div class="large-offset-1 columns">
				<div class="large-1 columns">
					
					<a href="/"  class="twitter-profile-icon" data-original-title="Ashok Subramanian">
					        <img src="https://media.licdn.com/mpr/mpr/shrink_200_200/p/7/000/256/253/051cf01.jpg" alt="Ashok Subramanian" class="avatar size73">
					</a>
				</div>

				<div class="large-11 columns site-title">
					<h1>
						Ashokkumar Subramanian
					</h1>
					
					<h5 class="tagline">engineer, developer, photographer, food </h5>
					
					<div >


					<div  class="nav-icons">
					
						<a href="/" title="Home - Ashokkumar Subramanian">Home</a>
						<a href="/posts.html" title="All Posts">	| 	Posts</a>
						<a href="/about.html" title="About Ashokkumar Subramanian">	|	About Me</a>
						<a href="https://plus.google.com/116545511063360353852">|	gPlus</a> 	
						<a href="https://github.com/ashokprof" title="Github - Ashok">	|	MyGitHub</a> 	

						<!-- <a href="http://500px.com/maheshsubramaniya" class="round-photos-icon" title="Photos"></a> 	-->

						<!-- <a href="food.html" class="round-cooking-icon" title="Cooking"></a> 	 -->

						<!-- <a href="http://www.maheshsubramaniya.com/feeds.html" class="round-rss-icon" title="Feed"></a> 	-->
					</div>
						
						<div class="" id="searchbox" style="">
							<form>
								<input type="text" id="st-search-input" class="st-search-input" style="height: 30px;" autocomplete="off" autocorrect="off" autocapitalize="off">
							</form>		
						</div>
						

					</div>



				</div>
			</div>
		</div>

	</section>

	
	<section id="searchresults">
		<div class="row">
			<div class="large-offset-1 columns">
				<div id="st-results-container"></div>		
			</div>
			<script type="text/javascript">
			var Swiftype = window.Swiftype || {};
			  (function() {
			    Swiftype.key = 'wYEXkbXYzykt7HezLKNc';
			    Swiftype.renderStyle = 'inline';
				Swiftype.searchSearchFields = {
				    "page": ["title^5", "body", "article"]
				};
			    /** DO NOT EDIT BELOW THIS LINE **/
			    var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
			    script.src = "//s.swiftypecdn.com/embed.js";
			    var entry = document.getElementsByTagName('script')[0];
			    entry.parentNode.insertBefore(script, entry);
			  }());
			</script>
			
		</div>
	</section>
<section id="content">

		<div class="row">
			<div class="columns" data-swiftype-index='true'>
				<div id="wrapper">

<p class=MsoListParagraph><span style='font-size:24.0pt;line-height:115%'><a
href="https://visawiki/display/RAR/Mutual+Certificate+Authentication"><span
style='color:#333333'>Mutual Certificate Authentication</span></a></span></p>

<div style='border:none;border-bottom:solid #4F81BD 1.0pt;padding:0in 0in 4.0pt 0in'>

<p class=MsoTitle><span style='font-size:20.0pt'>Introduction</span></p>

</div>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;text-align:justify;line-height:12.0pt'><span
style='font-size:12.0pt;color:#333333'>Mutual SSL authentication or certificate
based mutual authentication refers to two parties authenticating each other
through verifying the provided digital certificate so that both parties are
assured of the others' identity. The mutual certificate authentication involves
the following steps,</span></p>

<p class=MsoNormal style='margin-left:.25in;text-align:justify;text-indent:
-.25in;line-height:12.0pt'><span style='font-size:12.0pt;color:#333333'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:12.0pt;color:#333333'>A client requests access to a protected
resource.</span></p>

<p class=MsoNormal style='margin-left:.25in;text-align:justify;text-indent:
-.25in;line-height:12.0pt'><span style='font-size:12.0pt;color:#333333'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:12.0pt;color:#333333'>The server presents its certificate to
the client.</span></p>

<p class=MsoNormal style='margin-left:.25in;text-align:justify;text-indent:
-.25in;line-height:12.0pt'><span style='font-size:12.0pt;color:#333333'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:12.0pt;color:#333333'>The client verifies the server’s
certificate.</span></p>

<p class=MsoNormal style='margin-left:.25in;text-align:justify;text-indent:
-.25in;line-height:12.0pt'><span style='font-size:12.0pt;color:#333333'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:12.0pt;color:#333333'>If successful, the client sends its
certificate to the server.</span></p>

<p class=MsoNormal style='margin-left:.25in;text-align:justify;text-indent:
-.25in;line-height:12.0pt'><span style='font-size:12.0pt;color:#333333'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:12.0pt;color:#333333'>The server verifies the client’s
credentials.</span></p>

<p class=MsoNormal style='margin-left:.25in;text-align:justify;text-indent:
-.25in;line-height:12.0pt'><span style='font-size:12.0pt;color:#333333'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:12.0pt;color:#333333'>If successful, the server grants access
to the protected resource requested by the client.&nbsp;</span></p>

<div style='border:none;border-bottom:solid #4F81BD 1.0pt;padding:0in 0in 4.0pt 0in'>

<p class=MsoTitle><span style='font-size:20.0pt'>Mutual SSL Authentication (</span><span
style='font-size:19.0pt'>Two way SSL Auth</span><span style='font-size:20.0pt'>)</span></p>

</div>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;text-align:justify;line-height:12.0pt'><span
style='font-size:12.0pt;color:#333333'>Here are the detailed steps enabling the
Mutual SSL Authentication (or) Mutual Certificate based Authentication between
a server and client. The JRE key tool is being used here for generating the
trusted certificates and importing certificates. Also have captured the
detailed information for enabling the tomcat server and browser (client) for
mutual ssl authentication.</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;text-align:justify;line-height:12.0pt'><span
style='font-size:12.0pt;color:#333333'>NOTE: Here we have generated the
self-signed certificate using keytool to provide better information on how to
generate certificates, import certificates and enabling the server for mutual
ssl authentication. Whereas in Production environment, Visa provides the
certificates which are generated by Certificate Authorities (CA) – so we don't
need to execute the steps for generating the certificates.</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
class=MsoIntenseEmphasis>Generate key for the client:-</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><b><span
style='font-size:10.5pt;font-family:"Arial","sans-serif";color:#333333'>NOTE:
Before executing any of the following commands, please make sure that the JRE
path is set in the environment variables. Otherwise you can provide the
complete path of your keytool location while executing these commands.</span></b></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><b><span
style='font-size:10.5pt;font-family:"Arial","sans-serif";color:#333333'>&nbsp;</span></b></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>/opt/java/1.7/jre/bin/keytool
-genkey -v -alias umsclientKey -keyalg RSA </span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>-storetype
PKCS12 -keystore umsclient.p12 -storepass changeit -keypass changeit</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=963
 style='width:722.4pt'>
 <tr>
  <td width=963 style='width:722.4pt;background:white;padding:0in 0in 0in 0in'></td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
class=MsoIntenseEmphasis>Export the client cerificate:-</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
class=MsoIntenseEmphasis>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;line-height:115%;font-family:
"Courier New";color:#333333'>/opt/java/1.7/jre/bin/keytool -export -alias
umsclientKey -keystore umsclient.p12 -storetype PKCS12 -storepass changeit -rfc
-file umsclient.crt</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
class=MsoIntenseEmphasis>Generate key for the Server:-</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;line-height:115%;font-family:
"Courier New";color:#333333'>&nbsp;</span></p>

<p class=MsoNormal><span style='font-size:10.0pt;line-height:115%;font-family:
"Courier New";color:#333333'>/opt/java/1.7/jre/bin/keytool -genkey -keyalg RSA
-alias tomcat -keystore
/usr/local/appserver/tcServer/UserManagementRestService/conf/UserManagementWS.jks
-storepass changeit -keypass changeit -validity 365</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=963
 style='width:722.4pt'>
 <tr>
  <td width=963 style='width:722.4pt;background:white;padding:0in 0in 0in 0in'></td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
class=MsoIntenseEmphasis>Import the Client certificate into Server keystore:-</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
style='font-size:12.0pt;color:#333333'>NOTE: In production, we can directly
import the CA’s key (usually with the extansion .jks) into the server’s trust
store, instead adding the client certificate into server’s trust store.</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>/opt/java/1.7/jre/bin/keytool
-import</span><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
color:#333333'> </span><span style='font-size:10.0pt;font-family:"Courier New";
color:#333333'>-v -file umsclient.crt -alias umsclientKey -keystore
/usr/local/appserver/tcServer/UserManagementRestService/conf/UserManagementWS.jks
-storepass changeit</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;text-align:justify;line-height:12.0pt'><span
style='font-size:10.5pt;font-family:"Arial","sans-serif";color:#333333'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;text-align:justify;line-height:12.0pt'><span
style='font-size:12.0pt;color:#333333'>You can look inside the certification
key named UserManagementWS.jks to check the client information and server keys,</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
style='font-size:10.5pt;font-family:"Arial","sans-serif";color:#333333'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
class=MsoIntenseEmphasis>List the Server keystore:-</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
style='font-size:12.0pt;color:#333333'>List the key store to verify the client
certificate is added into the server key store.</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>/opt/java/1.7/jre/bin/keytool
&nbsp;-list -v -keystore
/usr/local/appserver/tcServer/UserManagementRestService/conf/UserManagementWS.jks
-storepass changeit</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
style='font-size:12.0pt;color:#333333'>Now it’s time to configure the server
for enabling the SSL connector and client authentication (uncommented the
connector from server.xml or insert the following snippet to server.xml):</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:1.0in;margin-bottom:.0001pt;text-indent:.5in;line-height:normal'><span
style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&lt;Connector</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;executor=&quot;tomcatThreadPool&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;port=&quot;${bio.https.port}&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protocol=&quot;HTTP/1.1&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connectionTimeout=&quot;20000&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;redirectPort=&quot;${bio.https.port}&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;acceptCount=&quot;100&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxKeepAliveRequests=&quot;15&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keystoreFile=&quot;${catalina.base}/conf/&lt;YOURJKSFILENAME&gt;.jks&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keystorePass=&quot;changeit&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;truststoreFile=&quot;${catalina.base}/conf/</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:3.0in;margin-bottom:.0001pt;text-indent:.5in;line-height:normal'><span
style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&lt;YOURJKSFILENAME&gt;.jks</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;truststorePass=&quot;changeit</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clientAuth=&quot;false&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sslProtocol=&quot;TLS&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keyAlias=&quot;tomcat&quot;</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SSLEnabled=&quot;true&quot;
</span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal'><span style='font-size:10.0pt;font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scheme=&quot;https&quot;</span></p>

<p class=MsoNormal style='line-height:normal'><span style='font-size:10.0pt;
font-family:"Courier New";color:#333333'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;secure=&quot;true&quot;/&gt;</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
style='font-size:10.5pt;font-family:"Arial","sans-serif";color:#333333'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
style='font-size:12.0pt;color:#333333'>The last is adding your credential of
your client key into the server’s tomcat-users file (tomcat-users.xml). You
have to add something like below from your client key to tomcat-users.xml file.</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=963
 style='width:722.4pt'>
 <tr>
  <td width=963 style='width:722.4pt;background:white;padding:0in 0in 0in 0in'>
  <div>
  <p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:
  0in;margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><i><span
  style='font-size:12.0pt;color:#333333'>&lt;user username=&quot;CN=InternalProjectWS,
  OU=DADS, O=DADS, L=Austin, ST=TX, C=US&quot; </span></i></p>
  <p class=MsoNormal><i><span style='font-size:12.0pt;line-height:115%;
  color:#333333'>password=&quot;changeit&quot; roles=&quot;&quot; /&gt;</span></i></p>
  </div>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
style='font-size:12.0pt;color:#333333'>Now it’s time to test it. Open Firefox
browser (or any other browser, however the adding certification to browser
might be different) and hit the https url for the your server, like&nbsp;</span><a
href="https://mvqsrru16d.qa.intra:9853/v1/Roles"><span style='font-size:12.0pt;
color:#333333;text-decoration:none'>https://mvqsrru16d.qa.intra:9853/v1/Roles</span></a><span
style='font-size:12.0pt;color:#333333'>. Now you will be prompted to trust the
site by adding the certification to browser.</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><b><span
style='font-size:10.5pt;font-family:"Arial","sans-serif";color:#333333'>IMPORTANT:
Once the certificate is added please go back to server.xml and update the
&quot;<i>clientAuth&quot; to &quot;true&quot;</i></span></b><span
style='font-size:10.5pt;font-family:"Arial","sans-serif";color:#333333'>&nbsp;<b>then
restart your server.</b></span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
style='font-size:10.5pt;font-family:"Arial","sans-serif";color:#333333'>&nbsp;</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-top:7.5pt;margin-right:0in;
margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;
line-height:12.0pt'><span style='font-size:12.0pt;font-family:Wingdings;
color:#333333'>Ø<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:12.0pt;color:#333333'>Expand ‘I Understand the Risks’ and
click on ‘Add Exception’</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:7.5pt;margin-right:0in;
margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;
line-height:12.0pt'><span style='font-size:12.0pt;font-family:Wingdings;
color:#333333'>Ø<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:12.0pt;color:#333333'>You will be prompted to ‘Add the
security Exception’. You can add the certificate just by clicking on the
‘Confirm security Exception’</span></p>

<p class=MsoListParagraphCxSpLast style='margin-top:7.5pt;margin-right:0in;
margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;
line-height:12.0pt'><span style='font-size:12.0pt;font-family:Wingdings;
color:#333333'>Ø<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:12.0pt;color:#333333'>Once the certificate is added successful
and everything seems correct then you will be prompted with the following
messages. If you see this one which means the mutual ssl authenication working
correctly between your client and server.&nbsp;&nbsp;&nbsp;</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
style='font-size:10.5pt;font-family:"Arial","sans-serif";color:#333333'><br>
<br>
</span></p>

<div style='border:none;border-bottom:solid #4F81BD 1.0pt;padding:0in 0in 4.0pt 0in'>

<p class=MsoTitle><span style='font-size:20.0pt'>Importing the certificate to
Google chrome</span></p>

</div>

<p class=MsoListParagraphCxSpFirst style='margin-top:7.5pt;margin-right:0in;
margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;
line-height:12.0pt'><span style='font-size:12.0pt;font-family:Wingdings;
color:#333333'>Ø<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:12.0pt;color:#333333'>Open Google chrome and go to
Settings-&gt; Show advanced setting -&gt; HTTPS/SSL -&gt; Manage Certificates
-&gt; Import. Then the following screen will be popped up, Click 'Next&gt;'.
Browse to the key store that generated for client and select it and click next.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:7.5pt;margin-right:0in;
margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;
line-height:12.0pt'><span style='font-size:12.0pt;font-family:Wingdings;
color:#333333'>Ø<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:12.0pt;color:#333333'>Enter the password set for your client
key store. Then click next until you get to 'Finish' button screen.&nbsp;&nbsp;</span></p>

<p class=MsoListParagraphCxSpLast style='margin-top:7.5pt;margin-right:0in;
margin-bottom:0in;margin-left:.5in;margin-bottom:.0001pt;text-indent:-.25in;
line-height:12.0pt'><span style='font-size:12.0pt;font-family:Wingdings;
color:#333333'>Ø<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><span
style='font-size:12.0pt;color:#333333'>Now the key store has been successfully
added to your Google chrome. It's all set to hit the https URL on your chrome.
If everything is correct then the following screen will be popped up, which
means your Google chrome is enabled for mutual SSL authentication and its
working correctly.&nbsp;&nbsp;</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
style='font-size:12.0pt;color:#333333'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:7.5pt;margin-right:0in;margin-bottom:0in;
margin-left:0in;margin-bottom:.0001pt;line-height:12.0pt'><span
style='font-size:10.5pt;font-family:"Arial","sans-serif";color:#333333'>&nbsp;</span></p>

<p class=MsoNormal>&nbsp;</p>

</div>
</div>

			</div>
		</div>

	</section>
	<footer id="footer">
		<div class="center" style="text-align:center;">
			
		    <ul class="menu" >
		      <li></li>
		      <li><a href="/" title="Home">Home</a></li>
		      <li><a href="/about.html" title="About">About</a></li>
		      <li><a href="/posts.html" title="About">Posts</a></li>
		      <!--<li><a href="http://500px.com/maheshsubramaniya" title="Photography">Photography</a></li> -->
		      <!-- <li><a href="/food.html" title="Food &amp; Cooking">Food &amp; Cooking</a></li> -->
		      <li><a href="/tamil.html" title="தமிழ்">தமிழ்</a></li>
		      <li><a href="/contact.html" title="Contact">Contact Me</a></li>
		    </ul>
		    <small>© Ashokkumar Subramanian - 2004 to today</small>
		  </div>
	</footer>

</body>

<script type="text/javascript">
	$(document).ready(function(){
		$("#search").on('click',function(){$('#searchbox').toggle();})
	})
</script>


<script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>

<script type="text/javascript">
    var disqus_shortname = 'ashokprof';
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-46244950-1', 'ashokkumarsubramanian.com');
  ga('send', 'pageview');
</script>

</html>
